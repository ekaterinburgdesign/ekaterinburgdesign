
import classNames from 'classnames/bind';

import PostPreview from '../PostPreview';

import styles from './PostPreviewGrid.module.scss'

const cx = classNames.bind(styles);

export default function PostPreviewGrid({ posts }) {
  const sortByPriority = (a, b) => {
    if (a.priority > b.priority) { return -1; }
    if (a.priority < b.priority) { return 1; }
    return 0;
  }

  return (
    <ul className={cx('post-preview-grid')}>
      <li className={cx('post-preview-grid__item', 'emerge', 'post-preview-grid__item_big')}>
        <div className={cx('post-preview-grid__description-background')}>
          <ProjectsDescriptionBackground />
        </div>
        <p className={cx('post-preview-grid__description')}>
          Мы&nbsp;задаём стандарты дизайна в&nbsp;городе и&nbsp;разрабатываем городские решения на&nbsp;собственном производстве.
          Умеем вести комплексные проекты: от&nbsp;разработки архитектурных форм до&nbsp;развития территорий.
          Мы&nbsp;уникальны, кроме нас так никто не&nbsp;может.
        </p>
      </li>
      {posts
        .filter(({ published }) => published)
        .sort(sortByPriority)
        .map((
          {
            id,
            previewGallery,
            previewContrast,
            previewBig,
            siteLink,
            title,
          }) => (
          <li className={cx('post-preview-grid__item', 'emerge', { 'post-preview-grid__item_big': previewBig })} key={title} data-expose="true">
            <PostPreview
              id={id}
              title={title}
              gallery={previewGallery}
              contrast={previewContrast}
              big={previewBig}
              siteLink={siteLink}
            />
          </li>
        ))}
    </ul>
  )
};


const ProjectsDescriptionBackground = () => (
  <svg
    width="100%"
    height="100%"
    viewBox='0 0 595 595'
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g clipPath="url(#a)">
      <path fill="#000" d="M0 0h595v595H0z" />
      <path
        d="M549.818 40.433c-19.11-19.11-19.112-50.196-.005-69.303l-23.787-23.786c-32.221 32.221-32.217 84.645.009 116.872 32.227 32.227 84.651 32.23 116.873.009l-23.787-23.787c-19.098 19.098-50.193 19.105-69.303-.005Z"
        fill="#05B506"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M-634.226 544.095c15.214 15.412 39.875 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.874 15.412 55.065 0a24.886 24.886 0 0 1 35.507 0c15.215 15.412 39.875 15.412 55.066 0a24.886 24.886 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.874 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.874 15.412 55.065 0a24.886 24.886 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.066 0a24.886 24.886 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.065 0a24.887 24.887 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0 9.898-9.929 25.8-9.929 35.603 0l9.778-9.905c-15.214-15.412-39.874-15.412-55.065 0a24.886 24.886 0 0 1-35.507 0c-15.214-15.412-39.875-15.412-55.066 0a24.886 24.886 0 0 1-35.507 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.874-15.412-55.065 0a24.887 24.887 0 0 1-35.507 0c-15.214-15.412-39.875-15.412-55.066 0a24.886 24.886 0 0 1-35.507 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.874-15.412-55.065 0a24.886 24.886 0 0 1-35.507 0c-15.215-15.412-39.875-15.412-55.066 0a24.886 24.886 0 0 1-35.507 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.875-15.412-55.065 0a24.887 24.887 0 0 1-35.508 0c-15.214-15.412-39.874-15.412-55.065 0a24.886 24.886 0 0 1-35.507 0l-9.779 9.905c15.214 15.412 39.875 15.412 55.065 0a24.886 24.886 0 0 1 35.507 0c15.215 15.412 39.875 15.412 55.066 0a24.886 24.886 0 0 1 35.507 0c15.215 15.412 39.875 15.412 55.066 0a24.886 24.886 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.065 0 9.732-9.929 25.61-9.929 35.413 0Z"
        fill="#00D200"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M-634.226 511.072c15.214 15.412 39.875 15.412 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.412 39.874 15.412 55.065 0a24.884 24.884 0 0 1 35.507 0c15.215 15.412 39.875 15.412 55.066 0a24.884 24.884 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0a24.885 24.885 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0a24.885 24.885 0 0 1 35.508 0c15.214 15.412 39.874 15.412 55.065 0a24.885 24.885 0 0 1 35.508 0c15.214 15.412 39.874 15.412 55.065 0a24.884 24.884 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.066 0a24.884 24.884 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.412 39.875 15.412 55.065 0 9.898-9.93 25.8-9.93 35.603 0l9.778-9.906c-15.214-15.411-39.874-15.411-55.065 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.066 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.885 24.885 0 0 1-35.508 0c-15.214-15.411-39.874-15.411-55.065 0a24.885 24.885 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.066 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.874-15.411-55.065 0a24.884 24.884 0 0 1-35.507 0c-15.215-15.411-39.875-15.411-55.066 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.874-15.411-55.065 0a24.884 24.884 0 0 1-35.507 0l-9.779 9.906c15.214 15.412 39.875 15.412 55.065 0a24.884 24.884 0 0 1 35.507 0c15.215 15.412 39.875 15.412 55.066 0a24.884 24.884 0 0 1 35.507 0c15.215 15.412 39.875 15.412 55.066 0a24.884 24.884 0 0 1 35.507 0c15.214 15.412 39.875 15.412 55.065 0 9.732-9.93 25.61-9.93 35.413 0Z"
        fill="#00B4FF"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M-634.226 478.049c15.214 15.411 39.875 15.411 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.411 39.875 15.411 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.411 39.874 15.411 55.065 0a24.884 24.884 0 0 1 35.507 0c15.215 15.411 39.875 15.411 55.066 0a24.884 24.884 0 0 1 35.507 0c15.214 15.411 39.875 15.411 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.411 39.875 15.411 55.065 0a24.885 24.885 0 0 1 35.508 0c15.214 15.411 39.875 15.411 55.065 0a24.885 24.885 0 0 1 35.508 0c15.214 15.411 39.874 15.411 55.065 0a24.885 24.885 0 0 1 35.508 0c15.214 15.411 39.874 15.411 55.065 0a24.884 24.884 0 0 1 35.507 0c15.214 15.411 39.875 15.411 55.066 0a24.884 24.884 0 0 1 35.507 0c15.214 15.411 39.875 15.411 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.411 39.875 15.411 55.065 0 9.898-9.93 25.8-9.93 35.603 0l9.778-9.906c-15.214-15.411-39.874-15.411-55.065 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.066 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.885 24.885 0 0 1-35.508 0c-15.214-15.411-39.874-15.411-55.065 0a24.885 24.885 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.066 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.874-15.411-55.065 0a24.884 24.884 0 0 1-35.507 0c-15.215-15.411-39.875-15.411-55.066 0a24.884 24.884 0 0 1-35.507 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.875-15.411-55.065 0a24.886 24.886 0 0 1-35.508 0c-15.214-15.411-39.874-15.411-55.065 0a24.884 24.884 0 0 1-35.507 0l-9.779 9.906c15.214 15.411 39.875 15.411 55.065 0a24.886 24.886 0 0 1 35.508 0c15.214 15.411 39.874 15.411 55.065 0a24.884 24.884 0 0 1 35.507 0c15.215 15.411 39.875 15.411 55.066 0a24.884 24.884 0 0 1 35.507 0c15.214 15.411 39.875 15.411 55.065 0 9.732-9.93 25.61-9.93 35.413 0Z"
        fill="#FFD400"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M120.646-11.779-75.779 184.646 75.78-56.646l44.867 44.867Z"
        fill="#00B4FF"
      />
      <path
        d="M645.068 274.845c33.454 33.453 33.449 87.698-.009 121.156-33.458 33.459-87.703 33.463-121.157.01"
        fill="#FFC800"
      />
    </g>
    <defs>
      <clipPath id="a">
        <path fill="#fff" d="M0 0h595v595H0z" />
      </clipPath>
    </defs>
  </svg>
)
